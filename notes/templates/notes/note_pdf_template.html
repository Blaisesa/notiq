{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ note.title }}</title>
    
    <link rel="stylesheet" type="text/css" href="{% static 'notes/css/print.css' %}">
</head>
<body>
    <header class="pdf-header">
        <h1>{{ note.title }}</h1>
        <p class="meta">
            Category: **{{ note.category.name|default:"Uncategorized" }}** |
            Created: **{{ note.created_at|date:"M d, Y" }}**
        </p>
    </header>

    <div class="pdf-content">
        
        {% load notes_filters %} 

        {% if note.data %} 
            {# Pass the dictionary from the JSONField (note.data) to the filter #}
            {{ note.data | render_note_json | safe }}
        {% else %}
            <p>This note is currently empty.</p>
        {% endif %}

    </div>

    <footer class="pdf-footer">
        <hr>
        <p>Generated by Notiq on {% now "M d, Y" %}</p>
    </footer>
</body>
</html>