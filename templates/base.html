{% load static %} {% url 'account_login' as login_url %} {% url 'account_signup' as signup_url %} {% url 'account_logout' as logout_url %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        {% block meta %} {% endblock meta %}
        <title>{% block title %}Notiq{% endblock title %}</title>
        <!-- Favicons -->
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="{% static 'images/favicon-32x32.png' %}"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="{% static 'images/favicon-16x16.png' %}"
        />
        <link
            rel="apple-touch-icon"
            href="{% static 'images/apple-touch-icon.png' %}"
        />
        <!--Font Awesome-->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-MN/I+z...=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <link rel="preconnect" href="https://kit.fontawesome.com" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <!-- Link External CSS - Now handles all styling -->
        <link rel="stylesheet" href="{% static 'css/style.css' %}" />
        {% block extra_head %}{% endblock extra_head %}
    </head>
    <body>
        <!-- NAVIGATION BAR -->
        <header class="main-header">
            <nav class="container header-nav">
                <a href="/" class="logo-link"
                    ><img
                        src="{% static 'images/logo.webp' %}"
                        alt="Notiq Logo"
                        class="logo"
                    />Notiq</a
                >
                <ul class="nav-menu" id="spa-nav">
                    <li>
                        <a
                            href="/#home-content"
                            data-page="home"
                            class="nav-link"
                            data-url="/"
                            >Home</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#about-content"
                            data-page="about"
                            class="nav-link"
                            data-url="/"
                            >About</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#features-content"
                            data-page="features"
                            class="nav-link"
                            data-url="/"
                            >Features</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#contact-content"
                            data-page="contact"
                            class="nav-link"
                            data-url="/"
                            >Contact</a
                        >
                    </li>
                    {% if user.is_authenticated and user.is_staff %}
                    <li>
                        <a href="{% url 'notes_editor' %}" class="app-link">
                            Open Notiq App
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'admin:index' %}" class="admin-link"
                            >Admin Panel</a
                        >
                    </li>
                    <li>
                        <a href="{% url 'admin:logout' %}" class="logout-link"
                            >Logout</a
                        >
                    </li>
                    {% elif user.is_authenticated %}
                    <li>
                        <a href="{% url 'notes_editor' %}" class="app-link">
                            Open Notiq App
                        </a>
                    </li>
                    <li class="profile">
                        <a href="{% url 'profile' %}" class="profile-link"
                            ><i class="fa-solid fa-user"></i>
                        </a>
                    </li>
                    {% else %}
                    <!-- These will link to allauth URLs later -->
                    <li>
                        <a href="{{ login_url }}" class="auth-placeholder login"
                            >Login</a
                        >
                    </li>
                    <li>
                        <a
                            href="{{ signup_url }}"
                            class="auth-placeholder signup"
                            >Sign Up</a
                        >
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </header>

        <!-- MAIN CONTENT BLOCK - This is where index.html or legal_page.html content goes -->
        <main>{% block content %}{% endblock content %}</main>
        <footer class="main-footer">
            <div class="container footer-content">
                <p class="copyright">
                    &copy; {% now "Y" %} Notiq. All rights reserved.
                </p>
                <div class="footer-links">
                    <!-- Links to your core/views.py pages -->
                    <a href="{% url 'gdpr_policy' %}" class="footer-link"
                        >GDPR Policy</a
                    >
                    <a href="{% url 'terms_of_service' %}" class="footer-link"
                        >Terms & Conditions</a
                    >
                </div>
            </div>
        </footer>
        <!-- Floating Action Button Menu -->
        {% if request.resolver_match.url_name != 'notes_editor' %}
        <div class="fab-menu">
            <div class="toggle">
                <ion-icon name="share-social"></ion-icon>
            </div>
            <ul>
                <li style="--i: 0; --clr: #000000">
                    <a
                        href="https://github.com/Blaisesa/notiq"
                        rel="noopener noreferrer"
                        target="_blank"
                        aria-label="GitHub"
                        ><i class="fab fa-github"></i
                    ></a>
                </li>
                <li style="--i: 1; --clr: #0a66c2">
                    <a
                        href="https://www.linkedin.com/in/blaise-smyka/"
                        rel="noopener noreferrer"
                        target="_blank"
                        aria-label="LinkedIn"
                        ><i class="fab fa-linkedin-in"></i
                    ></a>
                </li>
                <li style="--i: 2; --clr: #2a183d">
                    <a href="{% url 'notes_editor' %}" aria-label="Open Notiq App">
                        <img
                            src="{% static 'images/logo.webp' %}"
                            alt="Notiq Logo"
                            class="fab-logo"
                        />
                    </a>
                </li>
            </ul>
        </div>
        {% endif %}
        <!-- Font Awesome for icons -->
        <script
            src="https://kit.fontawesome.com/1eb19e26b6.js"
            crossorigin="anonymous"
        ></script>
        <script src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
        <!-- JavaScript block for additional scripts -->
        <script src="{% static 'js/spa.js' %}"></script>
        <script src="{% static 'js/page-transition.js' %}"></script>
        {% if request.resolver_match.url_name != 'notes_editor' %}
        <script src="{% static 'js/fab.js' %}"></script>
        {% endif %} {% block extra_js %}{% endblock extra_js %}
    </body>
</html>
