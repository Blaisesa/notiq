{% load static %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title %}Notiq{% endblock title %}</title>
        <!-- Favicons -->
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="{% static 'images/favicon-32x32.png' %}"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="{% static 'images/favicon-16x16.png' %}"
        />
        <link
            rel="apple-touch-icon"
            href="{% static 'images/apple-touch-icon.png' %}"
        />
        <!--Font Awesome-->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-MN/I+z...=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />

        <!-- Link External CSS - Now handles all styling -->
        <link rel="stylesheet" href="{% static 'css/style.css' %}" />
        {% block extra_head %}{% endblock extra_head %}
    </head>
    <body>
        <!-- NAVIGATION BAR -->
        <header class="main-header">
            <nav class="container header-nav">
                <a href="/" class="logo-link"
                    ><img
                        src="{% static 'images/logo.png' %}"
                        alt="Notiq Logo"
                        class="logo"
                    />Notiq</a
                >

                <!-- SPA Navigation Links (These links are for the JS-driven SPA functionality) -->
                <ul class="nav-menu" id="spa-nav">
                    <li>
                        <a
                            href="/#home-content"
                            data-page="home"
                            class="nav-link"
                            data-url="/"
                            >Home</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#about-content"
                            data-page="about"
                            class="nav-link"
                            data-url="/"
                            >About</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#features-content"
                            data-page="features"
                            class="nav-link"
                            data-url="/"
                            >Features</a
                        >
                    </li>
                    <li>
                        <a
                            href="/#contact-content"
                            data-page="contact"
                            class="nav-link"
                            data-url="/"
                            >Contact</a
                        >
                    </li>

                    <!-- Authentication Links (Placeholders until allauth is installed) -->
                    {% if user.is_authenticated and user.is_staff %}
                    <li>
                        <a href="{% url 'admin:index' %}" class="admin-link"
                            >Admin Panel</a
                        >
                    </li>
                    <li>
                        <a href="{% url 'admin:logout' %}" class="logout-link"
                            >Logout</a
                        >
                    </li>
                    {% elif user.is_authenticated %}
                    <li class="profile">
                        <a href="{% url 'profile' %}" class="profile-link"
                            ><i class="fa-solid fa-user"></i>
                        </a>
                    </li>
                    {% else %}
                    <!-- These will link to allauth URLs later -->
                    <li><a href="{{ login_url }}" class="auth-placeholder">Login</a></li>
                    <li><a href="{{ signup_url }}" class="auth-placeholder">Sign Up</a></li>
                    {% endif %}
                </ul>
            </nav>
        </header>

        <!-- MAIN CONTENT BLOCK - This is where index.html or legal_page.html content goes -->
        <main>{% block content %}{% endblock content %}</main>
        <footer class="main-footer">
            <div class="container footer-content">
                <p class="copyright">
                    &copy; {% now "Y" %} Notiq. All rights reserved.
                </p>
                <div class="footer-links">
                    <!-- Links to your core/views.py pages -->
                    <a href="{% url 'gdpr_policy' %}" class="footer-link"
                        >GDPR Policy</a
                    >
                    <a href="{% url 'terms_of_service' %}" class="footer-link"
                        >Terms & Conditions</a
                    >
                </div>
            </div>
        </footer>
        <!-- Font Awesome for icons -->
        <script
            src="https://kit.fontawesome.com/1eb19e26b6.js"
            crossorigin="anonymous"
        ></script>
        <!-- JavaScript block for additional scripts -->
        <script src="{% static 'js/spa.js' %}"></script>
        <script src="{% static 'js/script.js' %}"></script> 
        {% block extra_js %}{% endblock extra_js %}
    </body>
</html>
